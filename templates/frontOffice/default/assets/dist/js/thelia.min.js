!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(a){var b={"address.delete":function(b){a.post(b.attr("href"),function(a){a.success?b.closest("tr").remove():bootbox.alert(a.message)})}};a(document).ready(function(){var c=a('[data-element="product"]');if(c.length>0){var d={data:PSE,combination:PSE_COMBINATIONS,combinationval:PSE_COMBINATIONS_VALUE,defaultstock:PSE_DEFAULT_AVAILABLE_STOCK,checkavailability:PSE_CHECK_AVAILABILITY};c.psemanager(d)}var e=a('<div class="loader"></div>');a("body").append(e),a(document).ajaxStart(function(){e.show()}).ajaxStop(function(){e.hide()}).ajaxError(function(){e.hide()});var f=a(window).width()>768?!0:!1;a(".navbar").on("click.subnav","[data-toggle=dropdown]",function(b){return a(this).parent().hasClass("open")&&a(this).is(b.target)?!1:void 0}).on("mouseenter.subnav",".dropdown",function(){a(this).hasClass("open")||a(this).addClass("open")}).on("mouseleave.subnav",".dropdown",function(){var b=a(this);b.hasClass("open")&&(0===b.find(":input:focus").length?b.removeClass("open"):b.find(":input:focus").one("blur",function(){b.trigger("mouseleave.subnav")}))}),a("body").tooltip({selector:"[data-toggle=tooltip]"}),a(document).on("click.confirm","[data-confirm]",function(){var c=a(this),d=c.attr("href"),e=c.attr("data-confirm-callback"),f=""!==c.attr("data-confirm")?c.attr("data-confirm"):"Are you sure?";return bootbox.confirm(f,function(f){if(f)if(e&&a.isFunction(b[e]))b[e](c);else if(d)window.location.href=d;else{var g=c.closest("form");g.size()>0&&g.submit()}}),!1}),a(document).on("click.product-quickview",".product-quickview",function(){return f?(a.get(this.href,function(b){bootbox.hideAll(),bootbox.dialog({message:a("#product",b),onEscape:function(){bootbox.hideAll()}}),window.pseManager.load()}),!1):void 0}),a(document).on("submit.form-product",".form-product",function(){if(f){var b=a(this).attr("action"),c=a("input[name$='product_id']",this).val(),d=a("input.pse-id",this).val();return a.ajax({type:"POST",data:a(this).serialize(),url:b,success:function(b){a(".cart-container").html(a(b).html()),a.ajax({url:addCartMessageUrl,data:{product_id:c,pse_id:d},success:function(a){bootbox.hideAll(),bootbox.dialog({message:a,onEscape:function(){bootbox.hideAll()}})}})},error:function(a){console.log("Error.",a)}}),!1}});var g=a("#category-products"),h=g.parent();h.on("click.view-mode","[data-toggle=view]",function(){return a(this).hasClass("btn-grid")&&h.hasClass("grid")||a(this).hasClass("btn-list")&&h.hasClass("list")?void 0:(e.show(),setTimeout(function(){h.toggleClass("grid").toggleClass("list"),e.hide()},400),!1)});var i=a("#form-login");i.on("change.account",":radio",function(){"0"===a(this).val()?a("#password",i).val("").prop("disabled",!0):a("#password",i).prop("disabled",!1)}).find(":radio:checked").trigger("change.account"),a("#form-newsletter-mini").on("submit.newsletter",function(){return a.ajax({url:a(this).attr("action"),type:a(this).attr("method"),data:a(this).serialize(),dataType:"json",success:function(a){bootbox.alert(a.message)},error:function(b){try{bootbox.alert(a.parseJSON(b.responseText).message)}catch(c){bootbox.alert(b.responseText)}}}),!1}),a("#form-filters").each(function(){var b=a(this);b.on("change.filter",":checkbox",function(){e.show(),b.submit()}).find(".group-btn > .btn").addClass("sr-only")}),a(document).on("click.thumbnails","#product-thumbnails .thumbnail",function(){if(a(this).hasClass("active"))return!1;var b=a(this).closest("#product-gallery");return a(".product-image > img",b).attr("src",a(this).attr("href")),a(".thumbnail",b).removeClass("active"),a(this).addClass("active"),!1}),a("#product-gallery").each(function(){a(".item",this).size()>1&&a("#product-thumbnails",this).carousel({interval:!1}).find(".carousel-control").show()}),a("#payment-method").each(function(){var b=a("label",this);b.on("change",":radio",function(){b.removeClass("active"),b.filter('[for="'+a(this).attr("id")+'"]').addClass("active")}).filter(":has(:checked)").addClass("active")}),a("#form-contact, #form-register, #form-address").validate({highlight:function(b){a(b).closest(".form-group").addClass("has-error")},unhighlight:function(b){a(b).closest(".form-group").removeClass("has-error")},errorElement:"span",errorClass:"help-block"}),a("#content").on("change.toolbarfilter","#limit-top, #sortby-top",function(){window.location=a(this).val()}),i.each(function(){var b=a('input[type="email"]',i),c=a("#account1",i);b.on("keypress",function(){c.click()})})})}(jQuery);